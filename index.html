<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day <br><br>(Remember to save your changes!)</p>
      
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">
      <!-- Timeblocks go here -->
        <div class="time-block">
          <div>9:00 AM</div>
          <textarea id="9"> </textarea>
          <button type="button" class="btn btn-primary saveBtn" id="9btn">Save</button>
        </div>
        
        <div class="time-block"> 
          <div>10:00 AM</div>
          <textarea id="10"> </textarea>
          <button type="button" class="btn btn-primary saveBtn" id="10btn">Save</button>
        </div>

        <div class="time-block"> 
          <div>11:00 AM</div>
          <textarea id="11"> </textarea>
          <button type="button" class="btn btn-primary saveBtn" id="11btn">Save</button>
        </div>

        <div class="time-block"> 
          <div>12:00 PM</div>
          <textarea id="12"> </textarea>
          <button type="button" class="btn btn-primary saveBtn" id="12btn">Save</button>
        </div>

        <div class="time-block"> 
          <div>1:00 PM</div>
          <textarea id="1"> </textarea>
          <button type="button" class="btn btn-primary saveBtn" id="1btn">Save</button>
        </div>

        <div class="time-block">
          <div>2:00 PM</div> 
          <textarea id="2"> </textarea>
          <button type="button" class="btn btn-primary saveBtn" id="2btn">Save</button>
        </div>

        <div class="time-block"> 
          <div>3:00 PM</div>
          <textarea id="3"> </textarea>
          <button type="button" class="btn btn-primary saveBtn" id="3btn">Save</button>
        </div>
        
        <div class="time-block"> 
          <div>4:00 PM</div>
          <textarea id="4"> </textarea>
          <button type="button" class="btn btn-primary saveBtn" id="4btn">Save</button>
        </div>

        <div class="time-block"> 
          <div>5:00 PM</div>
          <textarea id="5"> </textarea>
          <button type="button" class="btn btn-primary saveBtn" id="5btn">Save</button>
        </div>
        
    </div>



    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
        
    <!-- Where all the jquery code will go -->
    <script>
      // Fetch the current date and time with moment.js and display it in the header
      var theDate = moment();
      $("#currentDay").text(theDate);


      // When a save button is clicked, locally store the contents of the corresponding text area
      $("#9btn").on("click", function(){
        var nineText = document.getElementById("9").value;
        localStorage.setItem("Text9", nineText);
      })

      $("#10btn").on("click", function(){
        var tenText = document.getElementById("10").value;
        localStorage.setItem("Text10", tenText);
      })

      $("#11btn").on("click", function(){
        var elevenText = document.getElementById("11").value;
        localStorage.setItem("Text11", elevenText);
      })

      $("#12btn").on("click", function(){
        var twelveText = document.getElementById("12").value;
        localStorage.setItem("Text12", twelveText);
      })

      $("#1btn").on("click", function(){
        var oneText = document.getElementById("1").value;
        localStorage.setItem("Text1", oneText);
      })

      $("#2btn").on("click", function(){
        var twoText = document.getElementById("2").value;
        localStorage.setItem("Text2", twoText);
      })

      $("#3btn").on("click", function(){
        var threeText = document.getElementById("3").value;
        localStorage.setItem("Text3", threeText);
      })

      $("#4btn").on("click", function(){
        var fourText = document.getElementById("4").value;
        localStorage.setItem("Text4", fourText);
      })

      $("#5btn").on("click", function(){
        var fiveText = document.getElementById("5").value;
        localStorage.setItem("Text5", fiveText);
      })

  // Function that re-renders the textarea based on key/value pairs saved by the user; would like to consolidate all of this and the above functions, but hey, it works for now
    function showText(){
      $("#9").text(localStorage.getItem("Text9"));
      $("#10").text(localStorage.getItem("Text10"));
      $("#11").text(localStorage.getItem("Text11"));
      $("#12").text(localStorage.getItem("Text12"));
      $("#1").text(localStorage.getItem("Text1"));
      $("#2").text(localStorage.getItem("Text2"));
      $("#3").text(localStorage.getItem("Text3"));
      $("#4").text(localStorage.getItem("Text4"));
      $("#5").text(localStorage.getItem("Text5"));

    }
    // These function will toggleClass of each text area id based on the current hour of the day, and run alongside showText(); on loading
    function setClass(){
      // 9 AM
      var nineHour = moment().get('hour')

      if (nineHour === 9){
      $("#9").toggleClass("present");
      }

      if (nineHour < 9) {
        $("#9").toggleClass("future");
      }

      if (nineHour > 9) {
        $("#9").toggleClass("past");
      }

      // 10 AM
      var tenHour = moment().get('hour')

      if (tenHour === 10){
      $("#10").toggleClass("present");
      }

      if (tenHour < 10) {
        $("#9").toggleClass("future");
      }

      if (tenHour > 10) {
        $("#10").toggleClass("past");
      }

      //  11 AM
      var elevenHour = moment().get('hour')

      if (elevenHour === 11){
      $("#11").toggleClass("present");
      }

      if (elevenHour < 11) {
        $("#11").toggleClass("future");
      }

      if (elevenHour > 11) {
        $("#11").toggleClass("past");
      }

      // 12 PM
      var twelveHour = moment().get('hour')

      if (twelveHour === 12){
      $("#12").toggleClass("present");
      }

      if (twelveHour < 12) {
        $("#12").toggleClass("future");
      }

      if (twelveHour > 12) {
        $("#12").toggleClass("past");
      }

      // 1 PM
      var oneHour = moment().get('hour')

      if (oneHour === 13){
      $("#1").toggleClass("present");
      }

      if (oneHour < 13) {
        $("#1").toggleClass("future");
      }

      if (oneHour > 13) {
        $("#1").toggleClass("past");
      }

      // 2 PM
      var twoHour = moment().get('hour')

      if (twoHour === 14){
      $("#2").toggleClass("present");
      }

      if (twoHour < 14) {
        $("#2").toggleClass("future");
      }

      if (twoHour > 14) {
        $("#2").toggleClass("past");
      }

      // 3 PM
      var threeHour = moment().get('hour')

      if (threeHour === 15){
      $("#3").toggleClass("present");
      }

      if (threeHour < 15) {
        $("#3").toggleClass("future");
      }

      if (threeHour > 15) {
        $("#3").toggleClass("past");
      }

      // 4 PM
      var fourHour = moment().get('hour')

      if (fourHour === 16){
      $("#4").toggleClass("present");
      }

      if (nineHour < 16) {
        $("#4").toggleClass("future");
      }

      if (nineHour > 16) {
        $("#4").toggleClass("past");
      }

      // 5 PM
      var fiveHour = moment().get('hour')

      if (fiveHour === 17){
      $("#5").toggleClass("present");
      }

      if (fiveHour < 17) {
        $("#5").toggleClass("future");
      }

      if (fiveHour > 17) {
        $("#5").toggleClass("past");
      }

    }

    setClass();
    showText();

      </script>
  </body>
</html>
